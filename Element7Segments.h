#ifndef ELEMENT_7_SEGMENTS_H
#define ELEMENT_7_SEGMENTS_H

#include "Element.h"

/*
uint8_t NUMBERS[10][7] = {
    {255, 255, 255, 0, 255, 255, 255},
    {255, 0, 0, 0, 255, 0, 0},
    {255, 255, 0, 255, 0, 255, 255},
    {255, 255, 0, 255, 255, 255, 0},
    {255, 0, 255, 255, 255, 0, 0},
    {0, 255, 255, 255, 255, 255, 0},
    {0, 255, 255, 255, 255, 255, 255},
    {255, 255, 0, 0, 255, 0, 0},
    {255, 255, 255, 255, 255, 255, 255},
    {255, 255, 255, 255, 255, 255, 0}
};
*/

class Element7Segments : public Element {
private:
    uint8_t _currentDigit = 10; // 10 is just none lit

public:
    uint8_t NUMBER_BM[11] = {
        0b1110111,
        0b0010001,
        0b1101011,
        0b0111011,
        0b0011101,
        0b0111110,
        0b1111110,
        0b0010011,
        0b1111111,
        0b0111111,
        0b1111111
    };

    float POSITION_LOOKUP_X[56] = {
        0.00,
		0.00,
		0.00,
		0.00,
		0.00,
		0.00,
		0.00,
		0.00,
		-2.90,
		-4.57,
		-6.24,
		-7.91,
		-9.59,
		-11.26,
		-12.93,
		-14.60,
		-17.50,
		-17.50,
		-17.50,
		-17.50,
		-17.50,
		-17.50,
		-17.50,
		-17.50,
		-14.60,
		-12.93,
		-11.26,
		-9.59,
		-7.91,
		-6.24,
		-4.57,
		-2.90,
		0.00,
		0.00,
		0.00,
		0.00,
		0.00,
		0.00,
		0.00,
		0.00,
		-2.90,
		-4.57,
		-6.24,
		-7.91,
		-9.59,
		-11.26,
		-12.93,
		-14.60,
		-17.50,
		-17.50,
		-17.50,
		-17.50,
		-17.50,
		-17.50,
		-17.50,
		-17.50
    };

    float POSITION_LOOKUP_Y[56] = {
        -2.90,
		-4.57,
		-6.24,
		-7.91,
		-9.59,
		-11.26,
		-12.93,
		-14.60,
		-17.50,
		-17.50,
		-17.50,
		-17.50,
		-17.50,
		-17.50,
		-17.50,
		-17.50,
		-14.60,
		-12.93,
		-11.26,
		-9.59,
		-7.91,
		-6.24,
		-4.57,
		-2.90,
		0.00,
		0.00,
		0.00,
		0.00,
		0.00,
		0.00,
		0.00,
		0.00,
		2.90,
		4.57,
		6.24,
		7.91,
		9.59,
		11.26,
		12.93,
		14.60,
		17.50,
		17.50,
		17.50,
		17.50,
		17.50,
		17.50,
		17.50,
		17.50,
		14.60,
		12.93,
		11.26,
		9.59,
		7.91,
		6.24,
		4.57,
		2.90
    };

    Element7Segments(size_t ledCountPerSegment, CRGB *buffer = NULL);
    Element7Segments(JsonObject &root);
    ~Element7Segments();

    void indexToCoords(size_t index, double *x, double *y);
    void exitCoords(double *x, double *y);

    void setDigit(uint8_t digit);
};

#endif // ELEMENT_7_SEGMENTS_H
